(()=>{"use strict";var e={6679:(e,t,s)=>{s(5363),s(71);var n=s(8880),o=s(1659),i=s(3673);function r(e,t,s,n,o,r){const c=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(c)}var c=s(541);window.store=c["default"];const a=(0,i.aZ)({name:"App"});var d=s(4260);const u=(0,d.Z)(a,[["render",r]]),h=u;var p=s(7083),l=s(9582);const f=[{path:"/",component:()=>Promise.all([s.e(736),s.e(758)]).then(s.bind(s,758)),children:[{path:"",component:()=>Promise.all([s.e(736),s.e(69)]).then(s.bind(s,4069))}]},{path:"/:catchAll(.*)*",component:()=>Promise.all([s.e(736),s.e(293)]).then(s.bind(s,7293))}],E=f,v=(0,p.BC)((function(){const e=l.r5,t=(0,l.p7)({scrollBehavior:()=>({left:0,top:0}),routes:E,history:e("")});return t}));async function T(e,t){const n="function"===typeof c["default"]?await(0,c["default"])({}):c["default"],{storeKey:i}=await Promise.resolve().then(s.bind(s,541)),r="function"===typeof v?await v({store:n}):v;n.$router=r;const a=e(h);return a.use(o.Z,t),{app:a,store:n,storeKey:i,router:r}}const g={config:{}},N="";async function S({app:e,router:t,store:s,storeKey:n},o){let i=!1;const r=e=>{try{return t.resolve(e).href}catch(s){}return Object(e)===e?null:e},c=e=>{if(i=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=r(e);null!==t&&(window.location.href=t,window.location.reload())},a=window.location.href.replace(window.location.origin,"");for(let u=0;!1===i&&u<o.length;u++)try{await o[u]({app:e,router:t,store:s,ssrContext:null,redirect:c,urlPath:a,publicPath:N})}catch(d){return d&&d.url?void c(d.url):void console.error("[Quasar] boot error:",d)}!0!==i&&(e.use(t),e.use(s,n),e.mount("#q-app"))}T(n.ri,g).then((e=>Promise.all([Promise.resolve().then(s.bind(s,1768))]).then((t=>{const s=t.map((e=>e.default)).filter((e=>"function"===typeof e));S(e,s)}))))},1768:(e,t,s)=>{s.r(t),s.d(t,{nodeWsEndpoint:()=>h,pipeWsEndpoint:()=>p,procWsEndpoint:()=>l,default:()=>E,api:()=>f,serverAddress:()=>a,wsBaseUrl:()=>u});var n=s(7083),o=s(52),i=s.n(o);const r="localhost",c="852",a=`${r}:${c}`,d=`http://${a}`,u=`ws://${a}/ws/connect`;function h(e){return`ws://${a}/ws/node/${e}`}function p(e){return`ws://${a}/ws/pipe/${e}`}function l(e){return`ws://${a}/ws/proc/${e}`}const f=i().create({baseURL:d}),E=(0,n.xr)((({app:e})=>{e.config.globalProperties.$axios=i(),e.config.globalProperties.$api=f}))},8389:(e,t,s)=>{s.d(t,{Ib:()=>u,xJ:()=>o,e4:()=>n});var n,o,i=s(9317),r=s(1768),c=s(9584),a=s.n(c);class d extends(a()){constructor(e,t){super(),this.isConnected=!1,this.lastError=null,this.socket=null,this.fakePid=Math.floor(10*Math.random())+Math.pow(2,30),this.id=e,this.wsUrl=t}onMessages(e){for(const t of e)this.emit("on_message",t)}disconnect(){this.socket&&this.socket.close()}connect(){this.socket=new WebSocket(this.wsUrl),this.socket.addEventListener("open",(()=>{console.log(`${this.id} connected`),this.connected=!0})),this.socket.addEventListener("close",(()=>{console.log(`${this.id} connection closed`),this.connected=!1})),this.socket.addEventListener("error",(e=>{console.log(`${this.id} connection error: ${e.message}`),this.error=e})),this.socket.addEventListener("message",(e=>{const t=JSON.parse(e.data);this.onMessages(t)}))}get connected(){return this.isConnected}set connected(e){this.isConnected=e,this.emit("connected_changed",e)}get error(){return this.lastError}set error(e){this.lastError=e,this.emit("error",e)}}(function(e){e[e["INIT"]=1]="INIT",e[e["AVAILABLE"]=2]="AVAILABLE",e[e["CONNECTED"]=3]="CONNECTED"})(n||(n={})),function(e){e["onStatusUpdated"]="on_status_updated"}(o||(o={}));class u extends(a()){constructor(e){super(),this.processors=[],this.error=null,this.socketHandler=null,this.fakePid=Math.floor(10*Math.random())+Math.pow(2,30),this.status=n.INIT,this.nodeDef=e}onMessage(e){e.type===i.g6.NODE_STATUS&&this.emit(o.onStatusUpdated,e.stats)}disconnect(){this.socketHandler&&this.socketHandler.disconnect()}connect(){const e=(0,r.nodeWsEndpoint)(this.nodeDef.id);this.socketHandler=new d(this.nodeDef.id,e),this.socketHandler.connect(),this.socketHandler.on("connected_changed",(e=>{e?(console.log(`${this.nodeDef.id} connected`),this.status=n.CONNECTED):(console.log(`${this.nodeDef.id} connection closed`),this.status=n.AVAILABLE)})),this.socketHandler.on("error",(e=>{this.error=e})),this.socketHandler.on("on_message",(e=>{this.onMessage(e)}))}get id(){return this.nodeDef.id}get name(){return this.nodeDef.name}get connected(){return this.status===n.CONNECTED}}},9317:(e,t,s)=>{var n,o,i,r,c,a,d,u;s.d(t,{Ky:()=>o,Wr:()=>i,g6:()=>r,n_:()=>c}),function(e){e[e["INIT"]=1]="INIT",e[e["READY"]=3]="READY",e[e["PAUSED"]=4]="PAUSED",e[e["RUNNING"]=5]="RUNNING",e[e["COMPLETED"]=6]="COMPLETED",e[e["PENDING_TERMINATION"]=7]="PENDING_TERMINATION"}(n||(n={})),function(e){e[e["INIT"]=1]="INIT",e[e["REGISTERED"]=2]="REGISTERED",e[e["READY"]=3]="READY",e[e["PAUSED"]=4]="PAUSED",e[e["RUNNING"]=5]="RUNNING",e[e["COMPLETED"]=6]="COMPLETED",e[e["PENDING_TERMINATION"]=7]="PENDING_TERMINATION"}(o||(o={})),function(e){e[e["PROCESSOR"]=1]="PROCESSOR",e[e["PROCESSOR_INSTANCE"]=2]="PROCESSOR_INSTANCE",e[e["PROCESS"]=3]="PROCESS",e[e["PIPELINE"]=4]="PIPELINE",e[e["PIPELINE_CONTROLLER"]=5]="PIPELINE_CONTROLLER",e[e["SERVER"]=6]="SERVER",e[e["NODE"]=7]="NODE",e[e["QUEUE"]=8]="QUEUE"}(i||(i={})),function(e){e[e["Q_STATUS"]=1]="Q_STATUS",e[e["Q_UPDATE"]=2]="Q_UPDATE",e[e["PROC_REGISTER"]=3]="PROC_REGISTER",e[e["REQUEST_TERMINATION"]=4]="REQUEST_TERMINATION",e[e["PIPE_REGISTER"]=5]="PIPE_REGISTER",e[e["NODE_INIT"]=6]="NODE_INIT",e[e["PIPE_CONTROL"]=7]="PIPE_CONTROL",e[e["PIPE_STATUS"]=8]="PIPE_STATUS",e[e["CONFIG_UPDATE"]=9]="CONFIG_UPDATE",e[e["REGISTRATION_INFO"]=10]="REGISTRATION_INFO",e[e["INSTANCE_ACTION"]=11]="INSTANCE_ACTION",e[e["NODE_STATUS"]=12]="NODE_STATUS",e[e["PROCESS_STATUS"]=13]="PROCESS_STATUS"}(r||(r={})),function(e){e[e["START"]=1]="START",e[e["RESTART"]=2]="RESTART",e[e["PAUSE"]=3]="PAUSE",e[e["TERMINATE"]=4]="TERMINATE"}(c||(c={})),function(e){e["NODE"]="node",e["CPU"]="cpu",e["GPU"]="gpu",e["TPU"]="tpu",e["MEMORY"]="memory",e["NETWORK_IO"]="network_io",e["DISK_IO"]="disk_io",e["STANDARD_STORAGE"]="standard_storage",e["SSD_STORAGE"]="ssd_storage"}(a||(a={})),function(e){e["COMPUTE"]="compute",e["MEMORY"]="memory",e["DISK_IO"]="disk_io",e["NETWORK_IO"]="network_io",e["THROUGHPUT"]="throughput",e["STORAGE"]="storage",e["GENERIC"]="generic"}(d||(d={})),function(e){e["Number"]="number",e["Percentage"]="percentage",e["DFPS"]="dfps"}(u||(u={}))},541:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Y,storeKey:()=>F,useStore:()=>J});var n=s(7083),o=s(3617);function i(){return{nodes:[]}}const r=i;var c=s(1768),a=s(8389),d=function(e,t,s,n){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,i){function r(e){try{a(n.next(e))}catch(t){i(t)}}function c(e){try{a(n["throw"](e))}catch(t){i(t)}}function a(e){e.done?s(e.value):o(e.value).then(r,c)}a((n=n.apply(e,t||[])).next())}))};const u={fetchNodes(e){return d(this,void 0,void 0,(function*(){const t=yield c.api.get("view/nodes"),s=t.data,n=s.data.map((e=>new a.Ib(e)));e.commit("setNodes",n)}))}},h=u,p={byId:e=>t=>e.nodes.find((e=>e.id===t))},l=p,f={setNodes(e,t){e.nodes=t}},E=f,v={namespaced:!0,actions:h,getters:l,mutations:E,state:r},T=v;function g(){return{pipes:[]}}const N=g;var S=s(9317);class I{constructor(e){Object.assign(this,e)}get dfps_in(){var e;return this.instances_stats?null===(e=this.instances_stats)||void 0===e?void 0:e.reduce(((e,t)=>e+t.dfps_in.value),0):0}get dfps_out(){var e;return this.instances_stats?null===(e=this.instances_stats)||void 0===e?void 0:e.reduce(((e,t)=>e+t.dfps_out.value),0):0}get processed_counter(){var e;return this.instances_stats?null===(e=this.instances_stats)||void 0===e?void 0:e.reduce(((e,t)=>e+t.processed_counter.value),0):0}get received_counter(){var e;return this.instances_stats?null===(e=this.instances_stats)||void 0===e?void 0:e.reduce(((e,t)=>e+t.received_counter.value),0):0}}class _{constructor(e){this.socket=null,this.fakePid=Math.floor(10*Math.random())+Math.pow(2,30),this.status=S.Ky.INIT,this.lastStats=null,this.procDef=e}get intancesCount(){return 0}onMessage(e){e.type===S.g6.PIPE_STATUS&&(this.status=e.status)}connect(){const e=(0,c.procWsEndpoint)(this.procDef.id);this.socket=new WebSocket(e),this.socket.addEventListener("open",(()=>{console.log(`${this.procDef.id} connected`)})),this.socket.addEventListener("message",(e=>{const t=JSON.parse(e.data);this.onMessage(t),console.log("Message from server ",e.data)}))}get stats(){return this.lastStats}updateStats(e){e&&(this.lastStats=new I(e))}get id(){return this.procDef.id}get name(){return this.procDef.name}}class P{constructor(e){this.processors=[],this.connected=!1,this.error=!1,this.socket=null,this.fakePid=Math.floor(10*Math.random())+Math.pow(2,30),this.status=-1,this.pipeDef=e,this.pipeDef.processors&&(this.processors=Object.values(this.pipeDef.processors).map((e=>new _(e))))}getProcessor(e){return this.processors.find((t=>t.id===e))}onMessage(e){e.type===S.g6.PIPE_STATUS&&(this.status=e.status)}disconnect(){this.socket&&this.socket.close()}connect(){const e=(0,c.pipeWsEndpoint)(this.pipeDef.id);this.socket=new WebSocket(e),this.socket.addEventListener("open",(()=>{console.log(`${this.pipeDef.id} connected`),this.connected=!0})),this.socket.addEventListener("close",(()=>{console.log(`${this.pipeDef.id} connection closed`),this.connected=!1})),this.socket.addEventListener("error",(()=>{console.log(`${this.pipeDef.id} connection error`),this.error=!1})),this.socket.addEventListener("message",(e=>{const t=JSON.parse(e.data);this.onMessage(t),console.log("Message from server ",e.data)}))}get running(){return this.status===S.Ky.RUNNING}get paused(){return this.status===S.Ky.PAUSED}run(){this.sendAction(S.n_.START)}pause(){this.sendAction(S.n_.PAUSE)}restart(){this.sendAction(S.n_.RESTART)}sendAction(e){var t;const s={};s.dest=this.pipeDef.id,s.sender=this.pipeDef.id,s.type=S.g6.PIPE_CONTROL,s.action=e,s.dest=this.pipeDef.id,s.scope=S.Wr.PIPELINE,s.pipe_name=this.pipeDef.id,null===(t=this.socket)||void 0===t||t.send(JSON.stringify(s))}get id(){return this.pipeDef.id}get name(){return this.pipeDef.name}get entryProcs(){const e=[];for(const t in this.pipeDef.processors){let s=!1;for(const e in this.pipeDef.queues)if(this.pipeDef.queues[e].to_p===t){s=!0;break}s||e.push(this.pipeDef.processors[t])}return e}get treeData(){const e={id:this.pipeDef.id,value:10,type:this.pipeDef.type,level:"red",children:[]},t=this;function s(e){for(const n in t.pipeDef.queues){const o=t.pipeDef.queues[n];if(o.from_p===e.id){e.children||(e.children=[]);const n=t.pipeDef.processors[o.to_p],i={id:n.id,value:15,type:n.type,level:"red"};e.children.push(i),s(i)}}}return s(e),e}}var m=function(e,t,s,n){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,i){function r(e){try{a(n.next(e))}catch(t){i(t)}}function c(e){try{a(n["throw"](e))}catch(t){i(t)}}function a(e){e.done?s(e.value):o(e.value).then(r,c)}a((n=n.apply(e,t||[])).next())}))};const O={fetchPipes(e){return m(this,void 0,void 0,(function*(){const t=yield c.api.get("view/pipes"),s=t.data,n=s.data.map((e=>new P(e)));e.commit("setPipes",n)}))}},R=O,D={byId:e=>t=>e.pipes.find((e=>e.id===t))},A=D,w={setPipes(e,t){e.pipes=t}},y=w,b={namespaced:!0,actions:R,getters:A,mutations:y,state:N},k=b;function C(){return{queues:[]}}const U=C,M={metric_type:"generic",unit:"number",value:0};class L{constructor(){this.allocation_counter=M,this.allocation_index=M,this.dfps_in=M,this.dfps_out=M,this.exe_counter=M,this.exe_index=M,this.free_space=M,this.pending_counter=M,this.q_id="",this.size=M}}class G{constructor(e){this.stats=null,this.qDef=e,Object.assign(this,e),this.stats=new L}updateStats(e){this.stats=e}}var $=function(e,t,s,n){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,i){function r(e){try{a(n.next(e))}catch(t){i(t)}}function c(e){try{a(n["throw"](e))}catch(t){i(t)}}function a(e){e.done?s(e.value):o(e.value).then(r,c)}a((n=n.apply(e,t||[])).next())}))};const x={fetchQueues(e){return $(this,void 0,void 0,(function*(){const t=yield c.api.get("view/queues"),s=t.data,n=s.data.map((e=>new G(e)));e.commit("setQueues",n)}))}},j=x,q={byId:e=>t=>e.queues.find((e=>e.id===t)),all:e=>()=>e.queues},W=q,K={setQueues(e,t){e.queues=t}},Q=K,H={namespaced:!0,actions:j,getters:W,mutations:Q,state:U},B=H,F=Symbol("vuex-key"),Y=(0,n.h)((function(){const e=(0,o.MT)({modules:{nodes:T,pipes:k,queues:B},strict:!1});return e}));function J(){return(0,o.oR)(F)}}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,s),i.exports}s.m=e,(()=>{var e=[];s.O=(t,n,o,i)=>{if(!n){var r=1/0;for(u=0;u<e.length;u++){for(var[n,o,i]=e[u],c=!0,a=0;a<n.length;a++)(!1&i||r>=i)&&Object.keys(s.O).every((e=>s.O[e](n[a])))?n.splice(a--,1):(c=!1,i<r&&(r=i));if(c){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]}})(),(()=>{s.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return s.d(t,{a:t}),t}})(),(()=>{s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[]))})(),(()=>{s.u=e=>"js/"+e+"."+{69:"04eeaf22",293:"2df26df1",758:"1416d18e"}[e]+".js"})(),(()=>{s.miniCssF=e=>"css/"+{143:"app",736:"vendor"}[e]+"."+{143:"31d6cfe0",736:"4c53aade"}[e]+".css"})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="pipeview:";s.l=(n,o,i,r)=>{if(e[n])e[n].push(o);else{var c,a;if(void 0!==i)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var h=d[u];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+i){c=h;break}}c||(a=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.setAttribute("data-webpack",t+i),c.src=n),e[n]=[o];var p=(t,s)=>{c.onerror=c.onload=null,clearTimeout(l);var o=e[n];if(delete e[n],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((e=>e(s))),t)return t(s)},l=setTimeout(p.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=p.bind(null,c.onerror),c.onload=p.bind(null,c.onload),a&&document.head.appendChild(c)}}})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{s.p=""})(),(()=>{var e={143:0};s.f.j=(t,n)=>{var o=s.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise(((s,n)=>o=e[t]=[s,n]));n.push(o[2]=i);var r=s.p+s.u(t),c=new Error,a=n=>{if(s.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",c.name="ChunkLoadError",c.type=i,c.request=r,o[1](c)}};s.l(r,a,"chunk-"+t,t)}},s.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[r,c,a]=n,d=0;if(r.some((t=>0!==e[t]))){for(o in c)s.o(c,o)&&(s.m[o]=c[o]);if(a)var u=a(s)}for(t&&t(n);d<r.length;d++)i=r[d],s.o(e,i)&&e[i]&&e[i][0](),e[r[d]]=0;return s.O(u)},n=self["webpackChunkpipeview"]=self["webpackChunkpipeview"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=s.O(void 0,[736],(()=>s(6679)));n=s.O(n)})();